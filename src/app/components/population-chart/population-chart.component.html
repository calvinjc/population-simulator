<div class="simulation-results">
  <h2>Simulation Results</h2>

  <canvas id="populationChart">
  </canvas>

  <div class="summary">
    <div class="summary-item">
      Year: {{ simulatorService.currentYear }}
    </div>
    <div class="summary-item">
      Total Population: {{ simulatorService.currentPopulation }}
    </div>
    <div class="summary-item">
      Births in the most recent year: {{ simulatorService.currentBirths }}
    </div>
    <div class="summary-item">
      Deaths in the most recent year: {{ simulatorService.currentDeaths }}
    </div>
  </div>

  <div class="simulation-controls">
    <button mat-raised-button color="primary" (click)="onSimulationStartClick()">Start Simulation</button>
    <button mat-raised-button color="primary" (click)="showTable = !showTable">Show/Hide Full Details Table</button>
  </div>

  <div class="simulation-results-table" *ngIf="showTable">
    <table mat-table [dataSource]="simulatorService.tableDataSource">
      <ng-container matColumnDef="year">
        <th mat-header-cell *matHeaderCellDef>Year</th>
        <td mat-cell *matCellDef="let population">{{ population.year }}</td>
      </ng-container>
      <ng-container matColumnDef="totalPopulation">
        <th mat-header-cell *matHeaderCellDef>Population</th>
        <td mat-cell *matCellDef="let population">{{ population.totalPopulation }}</td>
      </ng-container>
      <ng-container matColumnDef="totalMales">
        <th mat-header-cell *matHeaderCellDef>Males</th>
        <td mat-cell *matCellDef="let population">{{ population.totalMales }}</td>
      </ng-container>
      <ng-container matColumnDef="totalFemales">
        <th mat-header-cell *matHeaderCellDef>Females</th>
        <td mat-cell *matCellDef="let population">{{ population.totalFemales }}</td>
      </ng-container>

      <ng-container matColumnDef="numBirthsThisYear">
        <th mat-header-cell *matHeaderCellDef>Births This Year</th>
        <td mat-cell *matCellDef="let population">{{ population.numBirthsThisYear }}</td>
      </ng-container>
      <ng-container matColumnDef="numDeathsThisYear">
        <th mat-header-cell *matHeaderCellDef>Deaths This Year</th>
        <td mat-cell *matCellDef="let population">{{ population.numDeathsThisYear }}</td>
      </ng-container>
      

      <tr mat-header-row *matHeaderRowDef="['year', 'totalPopulation', 'totalMales', 'totalFemales', 'numBirthsThisYear', 'numDeathsThisYear']"></tr>
      <tr mat-row *matRowDef="let population; columns: ['year', 'totalPopulation', 'totalMales', 'totalFemales', 'numBirthsThisYear', 'numDeathsThisYear']"></tr>
    </table>
  </div>
</div>
